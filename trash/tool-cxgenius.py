curl 'https://support-cxgenius.infra.cloudera.com/api/genai_answer' \
  -H 'Accept: application/json, text/plain, */*' \
  -H 'Accept-Language: en-US,en;q=0.9' \
  -H 'Connection: keep-alive' \
  -H 'Content-Type: application/json; charset=UTF-8' \
  -H 'Cookie: cloudera_entry_page=https://community.cloudera.com/t5/Community-Articles/New-Feature-in-Cloudera-Machine-Learning-Data-Connections/ta-p/336775; AMCVS_97C7898555F6819F7F000101%40AdobeOrg=1; at_check=true; CASE_VIEWER_JWT_SIGNATURE_COOKIE=vnSPg0FuOIZvZtYv_Gv0zte3bDRdyqulfm49Etcs7ahgvMgGLMd7beJoAjGxm7f1QLgrOP_bWauwxhELL_rKwQ; notice_behavior=implied,eu; mbox=PC#42e8e1cddd2a4263b30efeca10912c6d.35_0#1789601096|session#554818f34491447989785aabc7bae1cf#1726358156; AMCV_97C7898555F6819F7F000101%40AdobeOrg=359503849%7CMCIDTS%7C19983%7CMCMID%7C45579149726220581670949629288968479285%7CMCAID%7CNONE%7CMCOPTOUT-1726514086s%7CNONE%7CvVersion%7C5.0.1; cdp-session-token=eyJraWQiOm51bGwsImFsZyI6IkVTMjU2In0.eyJpc3MiOiJBbHR1cyBJQU0iLCJhdWQiOiJBbHR1cyBJQU0iLCJqdGkiOiJXWElZUDRINXdkSkg0b1hqR0s1TUl3IiwiaWF0IjoxNzI2NTA2ODk0LCJleHAiOjE3MjY1NTAwOTQsInN1YiI6ImNybjphbHR1czppYW06dXMtd2VzdC0xOmM4ZGJkZTRiLWNjY2UtNGY4ZC1hNTgxLTgzMDk3MGJhNDkwODp1c2VyOjAzN2U1MzA1LTRhMWUtNGZkMC04MWZmLTg2Mjk3NzM5ZGI3ZCJ9.5oCUek35NP-Q7eCy-lLsxdhgm1kFox9ReJY-vsJWbhLokwZpvq8MOTmKldVNVjGaSRxJkmwM3M3MOQ7Udyi4YA; cdp-csrf-token=186c07fe-f5ca-4462-be24-128aa873d589; ajs_user_id=f1c599199ff194082dede35e4ba4b1277e59d04c; ajs_anonymous_id=76e78740-93de-4837-a7fa-77439200672c; session=.eJy9VMmyq8oR_Jez9nnBpAHvhIAGJOAwdDewUQANYgYJicnhfzfoPtt34YUXDq-6m6CqsrIy629fYRwnfX97tWXSfP31K5m1Z4it3MzV2a6yJoKd67AVMnKKjRfhksAdZ1XxgquMuUJ-dkA2EE8uCcWHpogM6MpIzcfcx1OjFm0OK302XD9PrT_W1EzgqblZSL1ad1ToqHu1lOG1nMSk1mBSZCOG0z5YtBxCibbKoMNu8CYObUUgk9zF5xAbvwyYLaS-s5FE5dez1sWsvsLVWqLYY7y0w5Ux-ohFZeBp2bXmnwRIb5_hX1eGz4hnt3rOlwEOMoIn6gPVQ-UG1feEzsyPQwBQvX7ryVldcVbZeu51N56NAk66e6d0Z8wDLxvXmMlYVMZwJdoQrWnFUvxJ3Rgx0pQAjfZdYQ5Bpjo48B1RaM0tZ4O6YM2pFqeRuHIbLugRKz5D6s4zkU3p4M5tuGLGWGt0kVrzY4B3W8waK8wRE3QRgFvvVYTlLjprZL1_evNYu4sw3Dhm9cKnddHnTPG0xhm0n681a7rymSzzGLlfezj5zDQQbFdx_YsjtaH-SF3f5BpYYnx57F_lYZ81qCKAFKzqHgL3bN_yN0uiQPA0-PNdohipQBcT55Qe27zzbgIfv-c7Yfh4n05c6wLlbUpCIJJikHij_xl22O25FHsDx-lK6Mz-rFLYTPh3UyhILG1k4_v--qga2aF7fXcQsQLVwQy5t7tQNCcIWjCaYH8_Gyzf6gchqShv0Wp4zBl0nDzDxlee7L4NamLd7jKdHyRXm_52-KabMenNUZRVglEjda_24S3fo-9RN9e-RrMJryJSl90kpVyfJgHHFBa-7d5-hmisH7iI87hsxzJdfdFMt-3g-_LKnB23exqXtPg5pSvK5HEe_MY8WM9GtJ00a9myfBjK_esvXzn5P9lsIVj9yFBX4BSCng4bgTGa4IGWCpJ_yrDeZR-p5JoQAcSpsjFEdfybrP4LuawQSI3mzQr_SyvqgM90L8sJlsa4zlpHqmos3cdQvH8s73vWvyXuSpwhbisFcfFvVjVc62PVsLG7LacDrTeujNSuuVGHgZ-U5K1DW7-i44iwdjGwQdmsBiPWn3RAjYaYsaudfFexw3je-JJf8WohvPHL9BuOV1BL2zkSxsq9rRa2xw9-URgM0WcNUJVkFTSSKtOCNHBKdfv_HTG7ItjWX32nSYNUo5Y95J5mR0E_YdmZOqtd3JIfY9BzSCQBVErGh-gcgsDxi6qOARqsJmAcj8gxizq4CieWgxDL1cVRyg-muEb1yvscYDslnrHO7F_zfgXYaH3EZ9vcLfD7jFYNOJ9eaQKylIDqteH8k9PRKO6cft7mZKchkJdw00iToajqnkhCjQOmK5TkSwTkVKeMOpKkXyuaopuNu6CW-5iBa_5fb7WpulAx6KixFx9X_3EdVaypKUnqijKWheTCLLBclmRlKEhoDWCH3sfFmNyPz2NNnaSe7r7rk9yNqPiJ3_djLIBF-xlneH8t7-N1bW1WMF-9BGkWhPkVQn3wOJvpYMj7VZJ0k3LOgQfaSKFMGjygRjNczNPW0au5ejgv2Ilivn4o65aNoXCUBiZ4tq62T7gbZGL_8iqe33GL28zSykrVZe8UtI90zr3hp7k5j1s5nkom7tM9e2way6i8bwaQJJG1OyWYPctG1vNFlNQ4JP4-vTjf9_5wS10sSueBV9iUlYTxKcl5faAa1zXlq3qHSy245mk8BlO7OwPm5zWkFvuqKDgJZnXeO8PoD0sbVF0_ZzV9uwARLaevv_8DujO5iA.Zuh64Q.X9fQfA18E7S1vgwFlv2YKrejO0U' \
  -H 'Origin: https://support-cxgenius.infra.cloudera.com' \
  -H 'Referer: https://support-cxgenius.infra.cloudera.com/search/Please%20tell%20me%20how%20to%20configure%20Python%20script%20to%20connect%20Impala%20using%20JDBC%20and%20Kerberos%3F' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36' \
  -H 'X-API-KEY: 123456' \
  -H 'sec-ch-ua: "Chromium";v="128", "Not;A=Brand";v="24", "Google Chrome";v="128"' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: "macOS"' \
  --data-raw $'{"text":"Please tell me how to configure Python script to connect Impala using JDBC and Kerberos?","context":"How to use python connect impala with kerberos?\\nHow to use python connect impala with kerberos?\\n<P>I wany to&nbsp;use python connect impala,and the cluster is&nbsp;<SPAN>kerberozied,I can use java jdbc successful ,and the settings like this :</SPAN></P><P>&nbsp;</P><P>UserGroupInformation.loginUserFromKeytab(<SPAN class=\\"string\\">\\"username/mydomain.com@mydomain.COM\\"</SPAN>,<SPAN class=\\"string\\">\\"/usr/username.keytab\\"</SPAN>); &nbsp;</P><P>&nbsp;</P><P>jdbc:impala://192.168.1.10:21050/default;AuthMech=1;KrbRealm=\'mydomain.com\';KrbHostFQDN=hostalias;KrbServiceName=impala</P><P>&nbsp;</P><P>I have try Impyla,but failed, it throws sasl can\'t start,how can i connect impala with python?</P>Impala - kerberos authentication jdbc\\njava.sql.SQLException: [Simba][ImpalaJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:224)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createClient(HiveServer2ClientFactory.java:52)\\nat eu.factory.connection.hive.ImpalaUtil.connect(ImpalaUtil.java:48)\\nat eu.factory.connection.hive.ImpalaUtil.connection(ImpalaUtil.java:73)\\nat eu.factory.statement.ExecuteImpalaQuery.q1(ExecuteImpalaQuery.java:15)\\nCaused by: javax.security.auth.login.LoginException: Unable to obtain Principal Name for authentication\\nat com.sun.security.auth.module.Krb5LoginModule.promptForName(Krb5LoginModule.java:841)\\nat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:704)\\nat com.cloudera.impala.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\\nat java.sql.DriverManager.getConnection(DriverManager.java:270)\\nImpala - kerberos authentication jdbc\\n<P>Hi all,</P><P>i am trying connect to impala (&nbsp;v2.6.0-cdh5.8.3) by jdbc with kerberos authentication.</P><P>This is my code:</P><P>&nbsp;</P><PRE>public class ImpalaUtil {\\n\\nprivate static String jdbcDriver=\\"com.cloudera.impala.jdbc4.Driver\\";\\n\\nprivate static String URL=\\"jdbc:impala://&lt;host_imapal_deamon&gt;:21050;AuthMech=1;KrbRealm=REALM.COM;KrbHostFQDN=&lt;host_impala_deamon&gt;;KrbServiceName=impala\\";\\n\\nprivate ImpalaUtil() {\\nSystem.setProperty(\\"sun.security.krb5.debug\\", \\"true\\");\\nSystem.setProperty(\\"java.security.krb5.conf\\", \\"/etc/krb5.conf\\");\\nSystem.setProperty(\\"java.security.auth.login.config\\",\\"&lt;paht&gt;/key/jaas.conf\\");\\n}\\n\\n}</PRE><P>This is jaas.conf:</P><P>&nbsp;</P><PRE>Client {\\ncom.sun.security.auth.module.Krb5LoginModule required\\nuseKeyTab=true\\ndoNotPrompt=true\\nuseTicketCache=true\\nprincipal=\\"myuser@REALM.COM\\"\\nkeyTab=\\"/home/tmp/myown.keytab\\";\\n};\\n\\n</PRE><P>I get the following error:</P><P>&nbsp;</P><P>&nbsp;</P><PRE>&gt;&gt;&gt;KinitOptions cache name is /tmp/krb5cc_1000\\njava.sql.SQLException: [Simba][ImpalaJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:224)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createClient(HiveServer2ClientFactory.java:52)\\nat com.cloudera.impala.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\\nat com.cloudera.impala.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\\nat com.cloudera.impala.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\\nat java.sql.DriverManager.getConnection(DriverManager.java:270)\\nat eu.factory.connection.hive.ImpalaUtil.connect(ImpalaUtil.java:48)\\nat eu.factory.connection.hive.ImpalaUtil.connection(ImpalaUtil.java:73)\\nat eu.factory.statement.ExecuteImpalaQuery.q1(ExecuteImpalaQuery.java:15)\\nCaused by: com.cloudera.impala.support.exceptions.GeneralException: [Simba][ImpalaJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;\\n... 10 more\\nCaused by: javax.security.auth.login.LoginException: Unable to obtain Principal Name for authentication\\nat com.sun.security.auth.module.Krb5LoginModule.promptForName(Krb5LoginModule.java:841)\\nat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:704)\\nat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\nat java.lang.reflect.Method.invoke(Method.java:498)\\nat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\\nat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\\nat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\\nat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\\nat java.security.AccessController.doPrivileged(Native Method)\\nat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\\nat javax.security.auth.login.LoginContext.login(LoginContext.java:587)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:113)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createClient(HiveServer2ClientFactory.java:52)\\nat com.cloudera.impala.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\\nat com.cloudera.impala.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\\nat com.cloudera.impala.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\\nat java.sql.DriverManager.getConnection(DriverManager.java:270)\\n\\n</PRE><P>&nbsp;</P><P>&nbsp;</P><P>If i start ticket in shell:&nbsp;</P><P>&nbsp;</P><P><FONT size=\\"3\\"><STRONG>&gt; kinit&nbsp;myuser</STRONG></FONT></P><P>&nbsp;</P><P><FONT size=\\"3\\">it works properly.</FONT></P><P>&nbsp;</P><P>&nbsp;</P><P><FONT size=\\"3\\">Any idea?</FONT></P><P>&nbsp;</P><P><FONT size=\\"3\\">Thanks</FONT></P><P>&nbsp;</P><P>&nbsp;</P>\\njava.sql.SQLException: [Simba][ImpalaJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:224)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createClient(HiveServer2ClientFactory.java:52)\\nat eu.factory.connection.hive.ImpalaUtil.connect(ImpalaUtil.java:48)\\nat eu.factory.connection.hive.ImpalaUtil.connection(ImpalaUtil.java:73)\\nat eu.factory.statement.ExecuteImpalaQuery.q1(ExecuteImpalaQuery.java:15)\\nCaused by: javax.security.auth.login.LoginException: Unable to obtain Principal Name for authentication\\nat com.sun.security.auth.module.Krb5LoginModule.promptForName(Krb5LoginModule.java:841)\\nat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:704)\\nat com.cloudera.impala.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\\nat java.sql.DriverManager.getConnection(DriverManager.java:270)\\nImpala - kerberos authentication jdbc\\n<P>Hi all,</P><P>i am trying connect to impala (&nbsp;v2.6.0-cdh5.8.3) by jdbc with kerberos authentication.</P><P>This is my code:</P><P>&nbsp;</P><PRE>public class ImpalaUtil {\\n\\nprivate static String jdbcDriver=\\"com.cloudera.impala.jdbc4.Driver\\";\\n\\nprivate static String URL=\\"jdbc:impala://&lt;host_imapal_deamon&gt;:21050;AuthMech=1;KrbRealm=REALM.COM;KrbHostFQDN=&lt;host_impala_deamon&gt;;KrbServiceName=impala\\";\\n\\nprivate ImpalaUtil() {\\nSystem.setProperty(\\"sun.security.krb5.debug\\", \\"true\\");\\nSystem.setProperty(\\"java.security.krb5.conf\\", \\"/etc/krb5.conf\\");\\nSystem.setProperty(\\"java.security.auth.login.config\\",\\"&lt;paht&gt;/key/jaas.conf\\");\\n}\\n\\n}</PRE><P>This is jaas.conf:</P><P>&nbsp;</P><PRE>Client {\\ncom.sun.security.auth.module.Krb5LoginModule required\\nuseKeyTab=true\\ndoNotPrompt=true\\nuseTicketCache=true\\nprincipal=\\"myuser@REALM.COM\\"\\nkeyTab=\\"/home/tmp/myown.keytab\\";\\n};\\n\\n</PRE><P>I get the following error:</P><P>&nbsp;</P><P>&nbsp;</P><PRE>&gt;&gt;&gt;KinitOptions cache name is /tmp/krb5cc_1000\\njava.sql.SQLException: [Simba][ImpalaJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:224)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createClient(HiveServer2ClientFactory.java:52)\\nat com.cloudera.impala.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\\nat com.cloudera.impala.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\\nat com.cloudera.impala.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\\nat java.sql.DriverManager.getConnection(DriverManager.java:270)\\nat eu.factory.connection.hive.ImpalaUtil.connect(ImpalaUtil.java:48)\\nat eu.factory.connection.hive.ImpalaUtil.connection(ImpalaUtil.java:73)\\nat eu.factory.statement.ExecuteImpalaQuery.q1(ExecuteImpalaQuery.java:15)\\nCaused by: com.cloudera.impala.support.exceptions.GeneralException: [Simba][ImpalaJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;\\n... 10 more\\nCaused by: javax.security.auth.login.LoginException: Unable to obtain Principal Name for authentication\\nat com.sun.security.auth.module.Krb5LoginModule.promptForName(Krb5LoginModule.java:841)\\nat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:704)\\nat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\nat java.lang.reflect.Method.invoke(Method.java:498)\\nat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\\nat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\\nat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\\nat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\\nat java.security.AccessController.doPrivileged(Native Method)\\nat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\\nat javax.security.auth.login.LoginContext.login(LoginContext.java:587)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:113)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createClient(HiveServer2ClientFactory.java:52)\\nat com.cloudera.impala.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\\nat com.cloudera.impala.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\\nat com.cloudera.impala.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\\nat java.sql.DriverManager.getConnection(DriverManager.java:270)\\n\\n</PRE><P>&nbsp;</P><P>&nbsp;</P><P>If i start ticket in shell:&nbsp;</P><P>&nbsp;</P><P><FONT size=\\"3\\"><STRONG>&gt; kinit&nbsp;myuser</STRONG></FONT></P><P>&nbsp;</P><P><FONT size=\\"3\\">it works properly.</FONT></P><P>&nbsp;</P><P>&nbsp;</P><P><FONT size=\\"3\\">Any idea?</FONT></P><P>&nbsp;</P><P><FONT size=\\"3\\">Thanks</FONT></P><P>&nbsp;</P><P>&nbsp;</P>\\njava.sql.SQLException: [Simba][ImpalaJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:224)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createClient(HiveServer2ClientFactory.java:52)\\nat eu.factory.connection.hive.ImpalaUtil.connect(ImpalaUtil.java:48)\\nat eu.factory.connection.hive.ImpalaUtil.connection(ImpalaUtil.java:73)\\nat eu.factory.statement.ExecuteImpalaQuery.q1(ExecuteImpalaQuery.java:15)\\nCaused by: javax.security.auth.login.LoginException: Unable to obtain Principal Name for authentication\\nat com.sun.security.auth.module.Krb5LoginModule.promptForName(Krb5LoginModule.java:841)\\nat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:704)\\nat com.cloudera.impala.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\\nat java.sql.DriverManager.getConnection(DriverManager.java:270)\\nImpala - kerberos authentication jdbc\\n<P>Hi all,</P><P>i am trying connect to impala (&nbsp;v2.6.0-cdh5.8.3) by jdbc with kerberos authentication.</P><P>This is my code:</P><P>&nbsp;</P><PRE>public class ImpalaUtil {\\n\\nprivate static String jdbcDriver=\\"com.cloudera.impala.jdbc4.Driver\\";\\n\\nprivate static String URL=\\"jdbc:impala://&lt;host_imapal_deamon&gt;:21050;AuthMech=1;KrbRealm=REALM.COM;KrbHostFQDN=&lt;host_impala_deamon&gt;;KrbServiceName=impala\\";\\n\\nprivate ImpalaUtil() {\\nSystem.setProperty(\\"sun.security.krb5.debug\\", \\"true\\");\\nSystem.setProperty(\\"java.security.krb5.conf\\", \\"/etc/krb5.conf\\");\\nSystem.setProperty(\\"java.security.auth.login.config\\",\\"&lt;paht&gt;/key/jaas.conf\\");\\n}\\n\\n}</PRE><P>This is jaas.conf:</P><P>&nbsp;</P><PRE>Client {\\ncom.sun.security.auth.module.Krb5LoginModule required\\nuseKeyTab=true\\ndoNotPrompt=true\\nuseTicketCache=true\\nprincipal=\\"myuser@REALM.COM\\"\\nkeyTab=\\"/home/tmp/myown.keytab\\";\\n};\\n\\n</PRE><P>I get the following error:</P><P>&nbsp;</P><P>&nbsp;</P><PRE>&gt;&gt;&gt;KinitOptions cache name is /tmp/krb5cc_1000\\njava.sql.SQLException: [Simba][ImpalaJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:224)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createClient(HiveServer2ClientFactory.java:52)\\nat com.cloudera.impala.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\\nat com.cloudera.impala.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\\nat com.cloudera.impala.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\\nat java.sql.DriverManager.getConnection(DriverManager.java:270)\\nat eu.factory.connection.hive.ImpalaUtil.connect(ImpalaUtil.java:48)\\nat eu.factory.connection.hive.ImpalaUtil.connection(ImpalaUtil.java:73)\\nat eu.factory.statement.ExecuteImpalaQuery.q1(ExecuteImpalaQuery.java:15)\\nCaused by: com.cloudera.impala.support.exceptions.GeneralException: [Simba][ImpalaJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;\\n... 10 more\\nCaused by: javax.security.auth.login.LoginException: Unable to obtain Principal Name for authentication\\nat com.sun.security.auth.module.Krb5LoginModule.promptForName(Krb5LoginModule.java:841)\\nat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:704)\\nat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\nat java.lang.reflect.Method.invoke(Method.java:498)\\nat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\\nat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\\nat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\\nat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\\nat java.security.AccessController.doPrivileged(Native Method)\\nat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\\nat javax.security.auth.login.LoginContext.login(LoginContext.java:587)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:113)\\nat com.cloudera.impala.hivecommon.api.HiveServer2ClientFactory.createClient(HiveServer2ClientFactory.java:52)\\nat com.cloudera.impala.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\\nat com.cloudera.impala.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\\nat com.cloudera.impala.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\\nat java.sql.DriverManager.getConnection(DriverManager.java:270)\\n\\n</PRE><P>&nbsp;</P><P>&nbsp;</P><P>If i start ticket in shell:&nbsp;</P><P>&nbsp;</P><P><FONT size=\\"3\\"><STRONG>&gt; kinit&nbsp;myuser</STRONG></FONT></P><P>&nbsp;</P><P><FONT size=\\"3\\">it works properly.</FONT></P><P>&nbsp;</P><P>&nbsp;</P><P><FONT size=\\"3\\">Any idea?</FONT></P><P>&nbsp;</P><P><FONT size=\\"3\\">Thanks</FONT></P><P>&nbsp;</P><P>&nbsp;</P>","user_email":"mecha_alex@cloudera.com"}'